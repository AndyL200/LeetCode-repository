public class J11 {

    class Node {
        int index;
        int item;
        Node link;
        Node head;
        Node(int index, int item) {
            this.index = index;
            this.item = item;
            this.link = null;
        }
        Node() {

        }
        public void Append() {}
        public void arrayToList(int[] x) {
            Node current = new Node(0,x[0]);
            this.head = current;
            for(int i = 0; i < x.length; i++) {
                Node newNode = new Node(i,x[i]);
                current.link = newNode;
                current = newNode;
                 
            }
        }
        public void remove(Node toRemv) {
            Node current = this.head;
            while(current.link != toRemv) {
                current = current.link;
            }
            if(current.link.item == toRemv.item) {
                current.link = current.link.link;
            }
            
        }
    }
    public int maxArea(int[] height) {
        int largestArea = 0, avg = findAvg(height);
        Node heightList = new Node();
        heightList.arrayToList(height);
        Node outerCurrent = heightList.head;
        while(outerCurrent != null) {
            Node innerCurrent = heightList.head;
            while(innerCurrent != null) {
                if(outerCurrent.item < avg) {heightList.remove(outerCurrent); break;}

                int area = Math.abs(outerCurrent.index - innerCurrent.index)*Math.min(outerCurrent.item,innerCurrent.item);
                if(largestArea < area) {
                largestArea = area;
                }
                innerCurrent = innerCurrent.link;
            }
            outerCurrent = outerCurrent.link;
        }
        return largestArea;
    }

    public int findAvg(int[] x) {
        int sum = 0;
        int count = 0;
        for(int i = 0; i < x.length;i++) {
            sum = sum + x[i];
            count++;
        }
        return sum/count;
    }


    public static void main(String args[]) {
        long startTime = System.nanoTime();
        J11 hire = new J11();
        int[] bogg = {8361,5302,8672,2400,5150,3527,9216,6713,2902,310,555,9176,311,9968,5705,3983,7992,8553,6953,9541,5828,1750,6731,3552,5274,7303,3724,5387,9504,1900,937,1146,7266,7943,7911,9055,8046,7180,6516,7810,686,5210,1956,4540,7540,2083,1579,4260,2450,2527,6524,5723,6766,777,5694,6018,2880,3653,6011,8172,5943,2862,6594,2902,9887,5878,3065,8197,9195,4560,3428,2209,475,852,9488,3368,4319,6230,1975,5829,9474,4490,2067,6048,9136,5344,6022,1787,5553,140,5130,524,3450,4008,721,6154,5598,8219,4614,3404,8232,9023,4552,7711,6057,5324,8578,3595,4663,4,3703,1429,7921,3085,3694,1461,8932,2632,7046,801,6043,617,7565,3469,1627,1464,3050,7982,6702,5467,8604,5515,9155,3260,5040,313,8885,929,4103,7947,1139,702,1047,2889,1439,3945,4738,2462,8491,7699,376,4639,1329,3644,7408,3665,7417,1388,861,7510,7908,4568,2618,4565,7222,2003,1586,9494,1744,7997,7389,9476,2752,701,5925,4963,6859,1634,7170,1336,1514,6757,698,5123,4390,7910,7527,9520,156,6402,1428,789,3411,106,3206,8216,700,994,337,9329,5310,7897,1462,5709,872,1482,3137,1197,6459,822,1715,6575,2697,8903,4315,2139,2295,7797,1060,3511,1564,6625,3579,6412,4178,4003,9431,4251,1147,3418,5180,8712,9484,2582,4408,1945,6068,1269,1464,7459,2953,9773,2621,9471,9295,7095,3236,3526,7493,2437,2845,9123,2062,7329,6133,7696,3930,8297,3552,4879,3535,2458,3488,4176,2415,4964,4239,7299,6820,9586,2081,6675,184,5397,2308,3539,6628,4177,8087,7245,7271,4318,1580,9122,9304,401,5758,1588,3916,674,2974,7613,2025,4849,7326,953,2123,5015,472,948,3567,498,2581,2096,3383,4879,4756,9720,728,6750,3038,2847,2998,9481,5581,3169,5290,7535,5075,8450,7762,1803,9782,7883,9003,9391,5001,6764,6375,5030,8386,6587,3738,5303,5264,4319,8203,2980,8868,8362,8101,3149,4320,2573,2943,1488,3917,32,9303,3487,600,6192,1802,3422,7481,354,393,8572,1298,5802,6840,2817,6800,6788,9100,502,5140,314,9376,3843,8519,2182,2263,9766,6228,5199,7297,8633,4783,8498,340,8277,3956,9703,1232,8493,9622,6942,1693,3805,4399,8602,7528,1389,803,3398,2618,856,9096,6858,6869,154,8359,9353,4177,9312,9038,4321,9456,2467,508,4458,2524,3854,3584,37,3115,7749,8399,6624,8141,7953,4148,3375,5908,983,9884,138,8115,2083,2807,412,6219,2194,750,4691,9589,6373,2550,2487,7026,9012,7493,3427,8828,6864,1674,7130,7546,9631,5863,3734,3647,1456,8084,2958,8324,7425,6769,8926,7832,3599,4224,4182,1930,4857,110,3888,7423,6965,4494,3940,8696,9130,5009,9052,3597,4804,785,6321,7946,3396,5947,5186,224,2527,5722,8964,7263,7987,2865,8962,2109,1073,9186,2822,8178,7760,5672,3559,6155,8195,1684,1827,8569,4240,4141,8071,2160,1942,4951,3385,382,8256,7129,8941,7030,5684,9031,1939,2884,8122,1605,1906,6716,4297,5699,4812,8434,8892,6368,6822,7097,9605,4384,381,5470,7902,7775,8857,992,4047,1252,6705,4422,2079,6485,4724,5754,4019,7691,1184,4951,8868,7114,7123,831,6348,6856,666,5615,1356,6916,2097,8360,7332,6873,5522,3112,1425,7718,1558,3615,225,8545,3828,5853,5375,1293,5330,5891,2932,9039,4153,2058,1882,6583,62,793,9418,7135,5835,5897,8814,8837,9868,3402,6649,6401,3167,9539,4978,8490,1594,9296,1605,2196,507,8481,960,1159,5938,4013,1977,1176,126,3434,4065,9999,8131,7930,2012,6021,5710,4986,7475,1333,5318,5966,1417,583,8391,2923,5585,3949,8497,6434,8481,475,2008,5693,7087,3754,3293,1064,5465,5347,9192,9216,2263,9241,4938,450,3650,2686,7213,7908,5987,5987,9236,39,9402,6471,4369,8266,9963,293,9287,6487,7850,4846,6390,7075,5055,1645,7055,7395,5006,5333,213,4709,2454,6990,6446,4053,5425,7078,5482,6740,8241,7591,8035,7349,4192,6318,8963,7911,9313,7787,6980,7731,3157,2508,8977,9911,5977,210,9595,2483,1130,4980,9493,6217,5747,5680,938,240,6321,230,9809,3310,6356,6797,7405,6546,6691,6366,7531,7610,487,3531,3176,2401,3154,1519,3019,7068,6819,6754,5019,3461,3184,7291,6288,9204,4459,4040,7871,2781,9396,7155,862,9354,7054,7085,2126,2618,5504,752,9215,630,3999,2528,6437,3492,5600,9438,5396,9901,2318,6082,7119,6224,923,1005,6891,2976,9966,7588,4120,1243,40,6695,9804,8128,5806,7102,344,2962,3441,2541,5602,8763,7034,1630,2229,9919,7176,3884,2024,8455,6417,4795,9404,8435,3013,6366,108,6241,1993,8532,7887,7777,1278,5961,4724,8745,4717,2723,4063,7234,5546,2032,5847,5574,2071,1164,9952,4270,2591,4598,4839,1681,3115,3482,8507,4613,5081,6096,8215,6110,8192,2900,874,9296,9542,4931,3035,2521,3374,8943,5239,4433,6937,6418,3834,8187,1969,318,1018,2654,1309,202,2990,7282,8309,6353,3698,7898,1166,6509,517,244,78,3882,6485,3673,5037,7398,4044,7119,9839,7,884,2426,9801,9919,5268,6551,6090,3707,1117,6631,3509,8305,116,7049,4323,2548,734,3481,4873,1715,305,3493,4017,2634,5864,2578,272,7984,1856,3558,7752,7952,5417,478,8075,1399,2358,6305,4381,9962,4170,1965,4372,3057,9122,836,3207,5110,3222,8966,1481,60,4668,4827,2826,5860,1643,9925,5460,3011,8849,5028,4496,534,9266,2666,4246,8711,5251,3743,89,1526,7661,6896,738,2970,6407,79,219,3870,1970,9041,9473,6367,398,4491,9307,3406,5747,6455,6125,8275,1248,8070,1142,4109,6349,2572,6901,9523,1669,5110,5033,2933,7998,5152,5318,8147,8308,2087,4183,9413,3226,1721,6751,5734,7863,8318,6879,899,5623,6206,3266,9465,4946,3303,5972,4185,2025,834,1403,3856,9039,7933,2572,597,3970,3004,9162,2899,652,2851,1486,463,4686,3386,8889,1507,5807,5486,1412,5771,804,8988,6618,5911,1879,9530,1902,8219,1900,9384,8443,6439,6605,2873,150,9293,2051,8458,9664,6831,5819,2,9925,4669,3068,4915,1675,1749,2020,1711,852,3865,8383,6873,1648,7875,5162,4232,7101,4416,5398,5443,7308,4944,1400,992,4115,1135,4454,444,4164,3992,2988,4419,5884,5782,5461,1493,6249,9742,372,7582,2018,7507,3737,8646,9635,655,3921,5849,3711,4588,2706,3568,6393,3506,4026,3609,7831,9852,701,5680,3084,4203,9859,5559,3824,4436,2090,2875,6662,1727,7218,3200,2015,5275,6436,7019,9765,1538,1340,1158,6284,8341,9459,3871,1866,8472,1842,9057,7335,8105,3425,6101,5672,6775,442,2485,3718,8087,6672,3581,3286,8776,944,950,9201,845,8831,1857,639,2711,451,6108,4342,4748,686,3673,8873,6890,5327,9949,1895,776,8228,8410,8808,3944,6895,6440,1249,8272,2466,147,351,4453,7324,307,3436,2352,4623,3949,4690,1079,3651,5699,610,6194,2835,2216,6340,5327,914,7566,5989,7899,5688,1151,1058,3980,4133,5043,3671,1629,7173,4288,2455,8566,4424,3497,5194,7259,6284,1792,9661,4023,3655,6029,4022,1327,2311,9086,7776,9415,7725,9154,1364,7126,6047,4928,8927,759,8701,2006,7781,7253,6335,5670,7710,4421,117,7434,8984,4242,4317,6478,8230,9861,2741,7527,7556,1839,2648,6835,9971,7031,9952,86,793,2863,1138,7406,5279,78,8,2527,170,2233,4190,7065,1893,7064,1194,4110,3126,4171,9972,3370,5823,2212,1644,8713,420,4617,6017,6026,9778,2531,486,6008,8241,8960,5750,865,4463,3647,7164,7290,4198,3610,6399,2982,7079,7580,4701,4670,43,7861,8934,5046,4144,2700,8252,2385,1490,1767,7784,4194,1933,1441,3984,4238,1389,4680,9169,6546,6018,8240,4754,804,286,297,523,3159,4290,9680,5663,7118,8765,5345,4477,1584,5637,3795,2957,1358,4006,7684,5090,2550,8553,6692,2826,5565,3435,1216,7650,7884,1540,6384,8376,78,206,8245,7358,8605,5897,4723,2143,4780,6307,49,6792,9531,7340,606,6494,6652,6154,311,3611,5966,7507,2691,4477,681,3307,6421,683,6225,3611,8288,4976,7150,6515,5367,73,2750,1876,334,7945,7879,9316,3138,1245,7944,840,3630,9517,2118,4756,7937,6088,3541,9970,7509,8686,4481,4217,82,3423,1431,3197,5027,7127,9465,1953,1646,6326,5810,3385,38,2191,9272,3505,9244,8379,4519,8493,9599,6117,7546,6920,3322,5162,9952,3064,9513,3647,4577,5102,4140,9548,2652,3808,3259,1796,4889,4445,9859,2999,7543,3867,5262,4585,8704,2833,4205,2482,4771,9580,3197,7635,3601,1714,3062,5911,4403,322,4014,9848,8269,9163,276,2660,5370,9903,8175,2297,3493,6032,3507,2505,3875,1260,1379,3323,8201,2633,3815,4088,1626,2277,1848,9243,1848,5690,6111,9727,9328,8245,5032,4293,225,3636,3303,4930,1087,4029,4897,1664,8052,4502,165,7917,3691,9246,4111,2137,1893,7095,7237,3257,7766,6075,4320,8143,61,7526,5514,7022,9874,9974,9730,925,2008,3326,2791,7031,3944,8310,9872,8715,2814,6409,5268,8891,159,874,2777,7992,3943,1291,2522,587,5848,3518,8356,6987,6959,9834,7347,8023,8153,8963,2701,7582,5067,934,5542,6821,3278,1459,4757,2696,6081,1792,616,9253,9516,440,9912,2115,5565,1722,8871,4515,9772,8910,9457,8360,5057,4620,3727,6897,3721,9166,4240,138,8704,5260,8103,5597,303,5404,3036,8269,356,5125,1347,2673,8355,7326,6066,9251,4033,4991,9324,1990,8849,1288,2882,3444,3853,1605,9891,7981,9695,4652,8557,7914,193,9809,4095,9984,5545,9675,1555,7636,9651,9833,1612,6224,1423,9453,5747,6100,5045,2612,5615,3803,178,6755,5035,5240,7638,3724,3757,7274,4916,593,1494,6688,809,7623,917,4392,4024,2823,3963,3619,1297,1815,7491,3162,1928,6180,901,3655,6418,8918,7157,9058,2921,2778,1628,5720,6849,3612,6671,1262,8705,816,2189,1293,886,9251,1063,1861,2780,9343,8690,9913,3965,8886,586,2304,8835,7991,3843,4656,2509,9916,5643,3000,9916,4090,9772,5440,8089,1587,4942,4778,8977,4791,4343,6322,6336,7062,749,3678,1054,4885,4923,8201,8513,7033,7257,1321,7673,6347,5094,9223,6710,3343,3717,234,114,5139,4067,1500,6252,1543,4970,2410,1776,4317,1304,5113,4527,8498,8587,5980,147,6182,4349,8723,2747,8859,9316,8174,438,6152,1908,1759,6752,2044,1946,9535,930,1654,3608,1348,1784,2718,1871,9086,6859,1250,9764,4839,208,2419,2871,1074,3252,7212,5643,2864,2341,6810,8680,9349,3090,4239,1340,5586,1567,4116,9244,8270,5683,9968,8881,6168,4629,9152,4367,5705,1571,6489,5918,3720,8604,7488,2794,6797,1767,9718,8855,4719,1141,5235,291,4565,1161,4894,5851,1675,7554,8873,6626,797,1493,231,3725,4762,5831,9583,6271,6185,5900,1627,3765,2345,4125,3028,4039,3414,5276,2900,6680,2940,5603,3773,1407,440,4575,5813,5932,8389,213,1923,9232,3793,6488,397,5797,7211,6807,1653,4690,2972,1206,7503,9451,9109,2184,7663,8370,4796,3870,1150,6322,4849,3716,4322,4015,4382,7241,7497,4545,2558,6251,4323,9869,6447,3648,9839,862,6207,4877,8171,3074,342,9071,5717,3748,6565,3903,8205,9268,8521,2739,84,8383,2841,1457,4740,1421,5016,7102,4558,6272,8185,771,3693,212,88,3309,6921,6328,8410,4738,1921,2399,9488,1571,7348,1334,1877,6150,5249,7236,4652,3560,892,6371,2440,8353,4869,3756,801,7546,9294,764,8474,2963,5984,385,4168,5706,1975,522,9916,5593,9478,8700,4601,3328,2827,9302,9679,8791,3336,8448,3424,1391,4002,5663,618,7294,4086,8459,7846,652,6227,5076,9285,6453,4097,8200,7627,3033,2598,2681,3488,5046,6395,6524,6144,5005,8476,5625,3934,1081,6828,7582,4788,6164,3278,8144,2605,2372,1840,1244,786,4808,9432,278,907,339,1494,3427,8288,5617,8985,8343,9054,6888,9051,3180,4951,8944,4,342,3836,9678,2609,4950,2369,6436,8415,7597,6655,5131,2462,395,8217,2390,9839,5985,2659,3962,1811,1529,9029,4437,5661,2192,5461,4508,756,3612,1746,3214,5779,523,6112,4129,3253,5109,6632,2494,1477,628,2343,7639,688,1740,8968,4597,3373,5558,1450,6009,5382,7130,8439,2965,7288,7971,7785,8736,3400,2827,3550,6474,2855,7855,8656,2574,4897,1592,4348,3919,189,2746,6629,5178,5703,5472,3085,1997,6336,1809,678,9674,9648,9566,2689,5436,2920,1688,8582,2473,361,2251,524,5179,8880,677,3819,1478,3882,4974,2962,9975,3358,9589,5032,4678,6095,5919,6165,4863,7752,9118,8358,6569,5176,4664,9781,5036,1104,9917,8936,6362,7689,7854,2581,8352,8342,1124,1218,1440,5848,1047,6037,6216,2417,910,2519,2240,7736,6645,4709,6969,3661,333,2938,6074,410,5373,3300,8668,4188,4635,6448,9463,3651,9730,8501,1807,9475,1991,6788,6304,6525,140,4921,4681,209,6465,3947,5559,6875,2277,306,7909,599,7527,5529,5062,1094,750,2506,1269,5895,5607,6289,4506,9116,5610,7048,5383,3481,8049,3605,548,3145,1188,6266,1478,4282,9533,6650,6673,9990,3906,627,7655,3340,9240,9443,817,1488,6766,6481,7699,3478,5826,8929,61,5677,9624,4643,5329,1425,6391,5179,3512,7735,528,4757,7402,6034,8664,3494,303,5957,4514,5207,9060,7483,4025,5987,7671,4380,2426,9218,2809,4823,1118,623,4432,4833,9562,4922,7894,4938,7753,793,6989,2230,7965,3960,9674,7682,4234,5119,7984,4857,1904,8499,1136,1615,2545,8911,8066,2170,3520,5823,2952,8971,632,4614,566,9104,2493,7760,9700,8138,2360,2901,8935,956,9508,8569,4127,3222,2926,3601,276,7921,1984,6642,1119,3552,8428,1064,3200,8215,4971,1263,3650,8043,617,5527,9274,7448,2516,826,9065,4665,7581,888,1430,9172,2452,6009,4818,6128,294,8077,5973,2742,329,2673,7977,5761,359,6728,7189,8938,3645,2569,4098,5692,9076,7185,5990,6308,3821,3778,496,4985,1268,4534,5413,6467,8519,7300,6705,7993,380,9333,9551,6873,570,6062,4685,1042,5244,8617,993,9034,3521,8620,3629,7312,9029,3346,2533,5780,8931,7792,1458,2134,1754,5218,5265,9783,5287,765,5399,8390,5593,5066,9403,1442,6036,1592,5731,2259,6320,405,9661,3815,1207,4820,1775,6152,7135,3097,5223,6964,7961,7920,5104,2487,3530,9671,3181,3621,7890,4541,5263,8624,7048,2869,8848,6188,7304,6399,5943,9388,1762,5907,3764,5808,8122,1774,9298,7023,4120,2998,5333,1062,6686,8128,3278,911,8852,3321,634,612,3860,9210,1007,6226,3218,6381,3547,4408,8371,9235,8069,100,4984,4696,8230,925,4878,7554,1501,5233,255,7075,8880,2766,9007,7156,7800,5122,9051,1810,277,2054,4428,7379,5497,7824,3262,6338,8619,8848,930,9405,3643,2359,5690,9151,4820,8274,5462,7632,6889,6407,7638,2100,6100,819,5350,1614,2108,7498,8727,6319,9599,7153,2104,5941,3933,1292,1577,5816,6055,3224,61,8003,6570,5581,3767,6331,2426,2290,7242,227,9538,8729,8827,2190,9359,5129,5309,6839,9556,7590,8965,3693,5808,1280,2972,9608,9065,3822,5899,6856,2210,7281,9440,837,9620,4062,6381,3713,1075,9046,4177,9894,4458,6294,2416,8308,8082,1376,1530,4463,48,9788,8225,2747,2940,9492,9574,4830,801,2035,8811,317,3070,3624,9266,1653,3715,267,1921,4682,851,5927,9097,7546,5812,4067,1707,7048,2645,2751,8002,5813,3535,7743,6009,2716,4142,4843,746,5845,91,8657,3202,6093,6905,8698,8258,5524,3174,5392,3407,3687,3012,8331,9428,8653,6463,1233,6566,3156,7797,1127,957,1993,5950,3877,654,3783,6598,408,9509,6264,5850,1700,2548,8779,8695,7830,2,7973,496,1613,6574,3391,7875,1720,7120,58,2718,909,55,7959,9109,3487,6755,4800,2179,2295,82,3840,7257,4093,7130,2115,6694,3886,8947,2913,7713,2293,6866,8936,4331,142,6268,8077,2130,4203,6840,3561,3767,7333,2585,3472,2660,332,5583,1793,3594,4361,198,6453,6025,3824,1490,6312,5981,10000,2335,6065,2492,3485,5838,9996,5368,6628,7845,8430,1742,215,6608,8926,8618,2296,3992,9666,9020,2649,2098,197,1503,691,4669,191,1288,7499,2293,220,4126,3589,6836,5416,1995,6355,1963,6844,2017,2068,842,8394,8615,1343,6630,8949,787,9905,6361,8609,9888,3835,7910,5000,7153,1921,9579,5800,8053,8254,6332,241,2120,1460,1849,7203,2970,5257,3870,9917,5862,1493,1153,3530,3783,1141,8593,6922,1695,5826,1002,9494,6128,1222,6695,8318,3885,2026,6081,182,4329,5589,2506,1796,7304,8044,2579,1108,987,4316,8561,6574,6306,694,9139,2546,1280,4396,8299,3179,313,5432,3134,7072,750,8033,4778,5857,5639,1936,6547,9994,1796,6547,5271,4634,8997,732,9469,4885,8253,1662,4836,8790,6144,5152,4285,2021,5391,3589,9249,4765,9121,7135,299,5065,3691,753,2006,9605,546,7427,5153,1072,6824,2195,284,8558,2674,9074,7849,4378,3088,9895,8930,8638,1165,9158,2642,4355,7175,2337,9105,5369,1688,4473,1907,9396,7355,4105,9655,895,6706,4394,6628,3769,3189,8693,9119,2510,4420};
        System.out.println(hire.maxArea(bogg));
        long endTime = System.nanoTime();
        long duration =  endTime - startTime;
        System.out.println(duration/1000000);
    }

}

/*
 * int max = 0, secondhighest = 0, range = 999999999, index = 0;
        for(int i = 0; i < height.length; i++) {
            int temp = range;
            if(height[i] > max) {
            max = height[i];
            index = i;
            }
            else {
                range = max - height[i];
            }
            if(range < temp) {
            secondhighest = max - range;
            }
        }
        int secondHighIdx = findIndex(height, secondhighest);

        if(secondhighest == 0) {return max*Math.abs(index-secondHighIdx);}
        else {return secondhighest*Math.abs(index-secondHighIdx);}
    }
    public int findIndex(int[] x, int item) {
        for(int i : x) {
            if(item == x[i]) {
                return i;
            }
        }
        return -1;
    }

 */